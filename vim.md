## 更快的移动
### 文本之间的移动

**屏幕行与实际行**
| command | motion                       |
|---------|------------------------------|
| gk/j    | 屏幕上下移动                 |
| ^       | 移动到实际行第一个非空白字符 |
| g^      | 移动到屏幕行第一个非空白字符 |

**基于单词移动** 
| command | motion                            | notes                      |
|---------|-----------------------------------|----------------------------|
| w/W     | 正向移动到下一单词开头            | 小写基于单词，大写基于字串 |
| b/B     | 反向移动到当前单词/上一单词的开头 |
| e/E     | 正向移动到当前单词/下一单词的结尾 |
| ge/E    | 反向移动到上一单词的结尾          |
| ea      | 在当前单词结尾添加                |
| gea     | 在上一单词结尾添加                |

![motion](imgs/Screenshot_20210722_211534.png) 

| command | motion                             |
|---------|------------------------------------|
| f       | 正向移动到下一个{char}所在之处     |
| F       | 反向移动到下一个{char}所在之处     |
| t       | 正向移动到下一个{char}的前一个字符 |
| T       | 反向移动到上一个{char}的后一个字符 |
| ;       | 重复上次的字符查找                 |
| ,       | 翻转方向查找                       |
| dtx     | 删除到向后第一个x前一个字符        |

**通过查找移动** 
| command       | motion                  | notes                 |
|---------------|-------------------------|-----------------------|
| v/{something} | 通过/查找扩大可视区域块 | 其他命令d/y等都一样 |

**用精确的文本对象选择选区** 
| command | motion               | notes               |
|---------|----------------------|---------------------|
| vi}     | 选中花括号以内的区域 | 其他命令d/y/c等都一样 |
| a"      | 扩大区域致包括""     |                     |
一般来说i会选择分隔符内部的文本，a则会包含分隔符

**针对符号** 
| 文本对象 | 选择区域                  |
|----------|---------------------------|
| a)/ab    | 一对()                    |
| i)/ib    | （）内部                  |
| a}/aB    | 一对{}                    |
| i}/iB    | {}内部                    |
| a]       | 一对[]                    |
| i]       | []内部                    |
| at       | 一对XML标签<xml>tags<xml> |
| it       | XML标签内部               |

**针对单词,句子,段落**
| 文本对象 | 选择区域      |
|----------|---------------|
| iw       | 当前单词      |
| aw       | 当前单词+空格 |
| iW       | 当前字串      |
| aW       | 当前字串+空格 |
| is       | 当前句子      |
| as       | 当前句子+空格 |
| ip       | 当前段落      |
| ap       | 当前段落+空行 |
d{motion}与aw，as，ap配合使用, 通常来说c{motion}与iw及类似文本对象使用。

**设置标记** 
| command   | motion                                             | notes                                                          |
|-----------|----------------------------------------------------|----------------------------------------------------------------|
| m{a-zA-Z} | 用选定的字母标记当前光标所在位置                   | 小写字母表示文件内标记，大学字母为全局标记，可以设置在不同文件 |
| '{mark}   | 跳转到相应的位置，把光标置于该行第一个非空白字符上 |
| `{mark}   | 跳转到相应的位置，把光标置于标记时的位置           |

| 位置标记 | 跳转到                         |
|----------|--------------------------------|
| ``       | 当前文件上次跳转动作之前的位置 |
| `.       | 上次修改地方                   |
| `^       | 上次插入地方                   |
| `[       | 上次修改或复制的起始位置       |
| `]       | 上次修改或复制的结束位置       |
| `<       | 上次高亮选取的起始位置         |
| `>       | 上次高亮选取的结束位置         |

**在匹配括号之间跳转** 
| command    | motion                 | notes                  |
|------------|------------------------|------------------------|
| %          | ()/[]/{}之间跳转       |                        |
| S+包围符号 | 将选中文本用该符号包围 | 需要有surround.vim插件 |
| cs}]       | 将花括号}换为中括号]   | 需要有surround.vim插件 |

### 文件之间的跳转
| command | motions            | notes                             |
|---------|--------------------|-----------------------------------|
| C-o     | 后退               | 可在不同文件/同一文件不同位置跳转 |
| C-i     | 前进               | 可在不同文件/同一文件不同位置跳转 |

**跳转到光标下文件** 
| command               | motion             |
|-----------------------|--------------------|
| gf                    | 跳转到光标下的文件 |
| :set suffixesadd+=.rb | 指定文件扩展名     |
| :set path+=dir        | 添加搜索目录       |

## 寄存器
:reg {register}查看寄存器内容
### 复制与粘贴
在没指定寄存器的情况下，默认的复制，剪切都是保存内容到无名寄存器中, 
默认粘贴也是读取无名寄存器的内容;
| command     | motions          | example     | notes                                                                |
|-------------|------------------|-------------|----------------------------------------------------------------------|
| p           | 粘贴文本到光标后 |             |                                                                      |
| P           | 粘贴文本到光标前 |             |                                                                      |
| "{register} | 指定寄存器       | "ayy -> "ap | ""表示无名寄存器，""p与p相同; "_为黑洞寄存器，可删除文本且不保留副本 |

**Ex命令**
| command   | motions                       |
|-----------|-------------------------------|
| :delete c | 把当前行剪切到寄存器c         |
| :put c    | 将寄存器c中的内容粘贴到当前行 |

**复制专用寄存器("0)** 

只用当使用y{motions}的时候才会将内容放入该寄存器，
d/c{motions}/x不会覆盖该寄存器内容,
这样就防止了剪切的时候会覆盖无名寄存器；

**系统粘贴板与选择专用寄存器** 
| 寄存器 | 用途                          | notes                                              |
|--------|-------------------------------|----------------------------------------------------|
| "+     | X11剪切板，用剪切，复制，粘贴 | "+p可粘贴系统剪切板的内容到vim，或插入模式下<C-r>+ |
| "*     | X11主剪切板，用鼠标中键操作   |

**表达式寄存器("=)** 
| command     | motions         | notes          |
|-------------|-----------------|----------------|
| :let i = 0  | 创建一个变量i=0 |                |
| let i += 1  | 变量i+1         |                |
| <C-r>=i<CR> | 获取变量i的值   | 在插入模式运行 |
| "=i<CR>p    | 获取变量i的值   | 普通模式       |


**其他寄存器** 
| 寄存器 | 内容             |
|--------|------------------|
| "%     | 当前文件名       |
| "#     | 轮换文件名       |
| ".     | 上次插入文本     |
| ":     | 上次执行的Ex命令 |
| "/     | 上次查找的模式   |

### 宏
| command            | motions                | notes            |
|--------------------|------------------------|------------------|
| q{register}        | 录制宏                 | 再次按q结束录制  |
| @{register}        | 执行宏命令             |                  |
| @@                 | 回放上一次运行的宏命令 |                  |
| {count}@{register} | 多次执行宏             | 该方式是串行运行 |

**执行方式** 
 - 串行运行 :
类似传送带，挨着挨着执行宏，如果在某次执行遇到错误则终止宏操作
	- {count}@{register}

 - 并行运行 :
多个执行者，同时执行宏，如果在某次执行遇到错误, 也不会终止其他的执行
	- 高亮选中区域+normal @{register}

无论哪种方式都是串行执行的，并不是真正的“并行”，只是方式不同；

**tips: 录制宏时最好采用可重复的操作，如w, b, e, ge, 0, $等**

**给宏追加命令** 
| command | motions         | notes     |
|---------|-----------------|-----------|
| qA      | 在宏a中追加内容 | q结束录制 |

**多个文件同时执行宏** 
(在运行:argdo，:bufdo之前，启用:hidden)
| command          | motions                           | notes                       |
|------------------|-----------------------------------|-----------------------------|
| :argdo normal @a | 对参数列表文件都执行宏a(并行方式) | 串行方式需要在宏中录制:next |

| command      | motions                   |
|--------------|---------------------------|
| :args *.txt  | 加入所有txt文件到参数列表 |
| :argdo write | 保存参数列表中全部文件    |
| :wall        | 保存缓冲区所有文件        |

**编辑宏的内容** 
| command | motions                       | notes                                                       |
|---------|-------------------------------|-------------------------------------------------------------|
| :put a  | 将寄存器a中的内容放到文本中   | "ap会将内容粘贴到光标后面，:put a始终会将其粘贴到光标下一行 |
| 0"ay$   | 将修改后的内容复制到寄存器a中 | 直接"add会包含拖尾字符^j                                    |

## 模式
**调整大小写敏感** 
| command        | motions                | notes                                  |
|----------------|------------------------|----------------------------------------|
| set ignorecase | 全局设置查找忽略大小写 |                                        |
| set smartcase  | 设置更智能的大小写敏感 | 无大写时忽略大小写，有大写时区分大小写 |
| \c             | 忽略大小写             | 可覆盖全局设置                         |
| \C             | 强制区分大小写         | 同上                                   |

**按正则表达式搜索时，开启\v** 

\v模式开关来统一所有特殊符号的规则，除了_、大小写字母以及数字0-9之外所有字符都具有特殊意义

| command                                 | motions                                  | notes                                        |
|-----------------------------------------|------------------------------------------|----------------------------------------------|
| /#([0-9a-fA-F]\{6}\\\|[0-9a-fA-F]\{3}\) | 使用magic搜索模式查找16进制颜色代码      | 使用magic模式必须转义()、\|、{               |
| /#([0-9a-fA-F]{6}\|[0-9a-fA-F]{3})      | 使用very magic搜索模式查找16进制颜色代码 | 使用\v模式之后，()、 \|、{字符会出现特殊含义 |
| /\v#(\x{6}\| \x{3})                     | 使用very magic搜索模式查找16进制颜色代码 | 使用\x更加精简                               |
